# ============================================================
# AgentCard 自动备份 Crontab 配置示例
# ============================================================
# 使用方法:
# 1. 编辑此文件，将 /path/to/agent-source-db 替换为实际路径
# 2. 运行: crontab -e
# 3. 将下面的配置复制到 crontab 编辑器中
# ============================================================

# Cron 格式说明:
# ┌───────────── 分钟 (0 - 59)
# │ ┌───────────── 小时 (0 - 23)
# │ │ ┌───────────── 日期 (1 - 31)
# │ │ │ ┌───────────── 月份 (1 - 12)
# │ │ │ │ ┌───────────── 星期 (0 - 7) (0 和 7 都代表周日)
# │ │ │ │ │
# * * * * * command

# ============================================================
# 选项 1: 每天凌晨 3 点备份生产环境（推荐）
# ============================================================
0 3 * * * /path/to/agent-source-db/scripts/backup_database.sh prod >> /path/to/agent-source-db/logs/backup.log 2>&1

# ============================================================
# 选项 2: 每周日凌晨 2 点备份生产环境
# ============================================================
# 0 2 * * 0 /path/to/agent-source-db/scripts/backup_database.sh prod >> /path/to/agent-source-db/logs/backup.log 2>&1

# ============================================================
# 选项 3: 每天凌晨 3 点备份生产环境，凌晨 4 点备份测试环境
# ============================================================
# 0 3 * * * /path/to/agent-source-db/scripts/backup_database.sh prod >> /path/to/agent-source-db/logs/backup.log 2>&1
# 0 4 * * * /path/to/agent-source-db/scripts/backup_database.sh test >> /path/to/agent-source-db/logs/backup.log 2>&1

# ============================================================
# 选项 4: 每 6 小时备份一次（高频备份）
# ============================================================
# 0 */6 * * * /path/to/agent-source-db/scripts/backup_database.sh prod >> /path/to/agent-source-db/logs/backup.log 2>&1

# ============================================================
# 常用 Cron 表达式示例
# ============================================================
# 每小时: 0 * * * *
# 每天午夜: 0 0 * * *
# 每天中午: 0 12 * * *
# 每周一凌晨: 0 0 * * 1
# 每月 1 号: 0 0 1 * *
# 每 30 分钟: */30 * * * *

# ============================================================
# 注意事项
# ============================================================
# 1. 确保脚本有执行权限: chmod +x /path/to/agent-source-db/scripts/backup_database.sh
# 2. 确保日志目录存在: mkdir -p /path/to/agent-source-db/logs
# 3. 定期检查日志: tail -f /path/to/agent-source-db/logs/backup.log
# 4. 检查 cron 是否运行: systemctl status cron (或 crond)
